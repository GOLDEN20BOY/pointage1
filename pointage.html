<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Pointage</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 2em;
      text-align: center;
      background: #f9f9f9;
    }
    button {
      margin: 1em;
      padding: 1em 2em;
      font-size: 1em;
      border: none;
      background: #0066cc;
      color: white;
      border-radius: 8px;
      cursor: pointer;
    }
    button:hover {
      background: #004b99;
    }
  </style>
</head>
<body>
  <h1 id="titre">Chargement...</h1>
  <div id="buttons"></div>

  <script>
    // R√©cup√©ration de l'email depuis l'URL
    const params = new URLSearchParams(window.location.search);
    const email = params.get("email");

    // V√©rification si l'email est bien pass√© dans l'URL
    if (!email) {
      document.getElementById("titre").innerText = "Email manquant ‚ùå";
    } else {
      // Base de donn√©es simul√©e des utilisateurs avec leurs options
      const users = {
        "gora@example.com": {
          nom: "Gora DIONGUE"
        },
        "aissatou@example.com": {
          nom: "Aissatou BA"
        }
        // ‚ûï Ajouter d'autres utilisateurs ici
      };

      // V√©rification de l'utilisateur
      const user = users[email];

      if (!user) {
        document.getElementById("titre").innerText = "Utilisateur inconnu ‚ùå";
      } else {
        // Affichage du message de bienvenue
        document.getElementById("titre").innerText = `Bonjour ${user.nom} üëã`;

        const buttons = document.getElementById("buttons");

        // G√©n√©ration des boutons avec des liens dynamiques utilisant l'email
        buttons.innerHTML = `
          <button onclick="window.open('https://script.google.com/macros/s/AKfycbydY3UccFyDwFCH1f9eyRnJ6eefLLDe8DDlcWYPBVWUgJzPpBOOhwQ99q4EbKHZOZzfmg/exec?email=' + email + '&action=arrivee')}&size=150', '_blank')">Pointer Arriv√©e</button>
          <button onclick="window.open('https://script.google.com/macros/s/AKfycbydY3UccFyDwFCH1f9eyRnJ6eefLLDe8DDlcWYPBVWUgJzPpBOOhwQ99q4EbKHZOZzfmg/exec?email=' + encodeURIComponent(email) + '&action=urgence', '_blank')">Pointer Urgence</button>
          <button onclick="window.open('https://quickchart.io/qr?text=${encodeURIComponent('https://script.google.com/macros/s/AKfycbydY3UccFyDwFCH1f9eyRnJ6eefLLDe8DDlcWYPBVWUgJzPpBOOhwQ99q4EbKHZOZzfmg/exec?email=' + email + '&action=retour')}&size=150', '_blank')">Pointer Retour</button>
          <button onclick="window.open('https://quickchart.io/qr?text=${encodeURIComponent('https://script.google.com/macros/s/AKfycbydY3UccFyDwFCH1f9eyRnJ6eefLLDe8DDlcWYPBVWUgJzPpBOOhwQ99q4EbKHZOZzfmg/exec?email=' + email + '&action=descente')}&size=150', '_blank')">Pointer Descente</button>
        `;
      }
    }
  </script>
</body>
</html>
